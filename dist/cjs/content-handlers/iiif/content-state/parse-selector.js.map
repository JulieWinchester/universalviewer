{"version":3,"file":"parse-selector.js","sourceRoot":"","sources":["../../../../../src/content-handlers/iiif/content-state/parse-selector.ts"],"names":[],"mappings":"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"}